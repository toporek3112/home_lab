extensions:
  basicauth/client:
    client_auth: 
      username: ""
      password: ""

receivers:
  prometheus:
    config:
      scrape_configs:
        # - job_name: 'prometheus_export'
        #   scrape_interval: 5s
        #   static_configs:
        #     - targets: ['prometheus_export:9090']
        - job_name: 'node-exporter-laptop'
          scrape_interval: 15s
          static_configs:
            - targets: ['exporter_node:9100']

exporters:
  otlp/otel-local:
    endpoint: "http://opentelemetry_collector_import:4317"
    tls:
      insecure: true
  otlp/otel-qa:
    endpoint: "https://[url]"
    tls:
      cert_file: /conf/certs/crm.pem
      key_file: /conf/certs/crm-chain.pem
      insecure: false
      insecure_skip_verify: true
  otlphttp/otel-qa:
    endpoint: "https://[url]"
    tls:
      insecure_skip_verify: true
      insecure: false
    auth:
      authenticator: basicauth/client
  prometheus:
    endpoint: '0.0.0.0:8887'
  logging:
    loglevel: debug

service:
  extensions: [basicauth/client]
  pipelines:
    metrics:
      receivers: 
        - prometheus
      exporters:
        - otlp/otel-local
        # - otlphttp/otel-qa
        # - prometheus
        - logging

  telemetry:
    logs:
      level: "debug"
    metrics:
      address: 0.0.0.0:8889
      level: detailed

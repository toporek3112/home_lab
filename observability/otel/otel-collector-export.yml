receivers:
  prometheus:
    config:
      scrape_configs:
        # - job_name: 'prometheus_export'
        #   scrape_interval: 5s
        #   static_configs:
        #     - targets: ['prometheus_export:9090']
        - job_name: 'node-exporter-laptop'
          scrape_interval: 15s
          static_configs:
            - targets: ['exporter_node:9100']

exporters:
  otlp/otel-local:
    endpoint: "http://opentelemetry_collector_import:4317"
    tls:
      insecure: true
  otlphttp/otel-qa:
    endpoint: "https://[ingress-url]"
    tls:
      cert_file: /conf/certs/tls.crt
      key_file: /conf/certs/tls.key
      ca_file: /conf/certs/ca.crt
      insecure: false
  prometheus:
    endpoint: '0.0.0.0:8887'
  logging:
    loglevel: debug

service:
  pipelines:
      metrics:
        receivers: 
          - prometheus
        exporters:
          # - otlp/otel-local
          - otlphttp/otel-qa
          # - prometheus
          - logging

  telemetry:
    logs:
      level: "debug"
    metrics:
      address: 0.0.0.0:8889
      level: detailed
